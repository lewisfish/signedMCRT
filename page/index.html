<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Monte Carlo radiation transfer (MCRT) using Signed Distance functions (SDF)">
    <meta name="author" content="Lewis McMillan" >
    <link rel="icon" href="../favicon.png">

    <title>main &ndash; signedMCRT</title>

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

         <script src="../js/jquery-2.1.3.min.js"></script>
         <script src="../js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html">signedMCRT </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
              <li><a href='../page/index.html'>main</a></li>
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
                 data-toggle="dropdown" role="button"
                 aria-haspopup="true"
                 aria-expanded="false">
                 Contents <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                    <li><a href="../lists/files.html">Source Files</a></li>
                  <li><a href="../lists/modules.html">Modules</a></li>
                  <li><a href="../lists/procedures.html">Procedures</a></li>
                  <li><a href="../lists/absint.html">Abstract Interfaces</a></li>
                  <li><a href="../lists/types.html">Derived Types</a></li>
                  <li><a href="../program/mcpolar.html">Program</a></li>
              </ul>
            </li>
                <li class="visible-xs hidden-sm visible-lg">
                  <a href="../lists/files.html">Source Files</a>
                </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../lists/modules.html">Modules</a>
              </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../lists/procedures.html">Procedures</a>
              </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../lists/absint.html">Abstract Interfaces</a>
              </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../lists/types.html">Derived Types</a>
              </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../program/mcpolar.html">Program</a>
              </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
  <div class="row">
    <h1>main</h1>
    <div class="row">
    <div class="col-lg-12">
    <div class="well well-sm" style="min-height: 40px;">
      <ul class="list-inline" style="margin-bottom:0px; display:inline">
<!--
        <li><i class="fa fa-sitemap"></i> Subsections:</li>
        <li><a href='../page/./TODO.html'>todos</a></li>
        <li><a href='../page/./config.html'>config</a></li>
-->
      </ul>
        <ol class="breadcrumb in-well">
         <li class="active">main</li>
      </ol>
    </div>
    </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-9 col-md-push-3" id='text'>
      <h1 id="documentation">Documentation</h1>
<p>This document is the incomplete documentation of <strong>signedMCRT</strong>.</p>
<h2 id="build-system">Build system</h2>
<p>To build signedMCRT, the only current method is using <a href="https://fpm.fortran-lang.org/en/index.html">FPM</a>.
FPM can be easily installed on any platform, and is simple to use to pull all dependencies, and build and compile signedMCRT.
We also provide several commands via FPM response file (<a href="https://github.com/lewisfish/signedMCRT/blob/main/fpm.rsp">found here</a>), to enable the use of OpenMP, other compliers, and various debug modes.</p>
<h2 id="running-the-code">Running the code</h2>
<p>The code is run using FPM. To run on a single core with no debug flags enabled:</p>
<div class="codehilite"><pre><span></span><code>fpm run
</code></pre></div>

<p>To run on all available threads on current computer with no debug flags:</p>
<div class="codehilite"><pre><span></span><code><span class="n">fpm</span><span class="w"> </span><span class="nv">@runmp</span><span class="w"></span>
</code></pre></div>

<p>To run the code on one thread with all debug flags enabled:</p>
<div class="codehilite"><pre><span></span><code><span class="n">fpm</span><span class="w"> </span><span class="nv">@debug</span><span class="w"></span>
</code></pre></div>

<p>To run the code on all threads with all debug flags enabled:</p>
<div class="codehilite"><pre><span></span><code><span class="n">fpm</span><span class="w"> </span><span class="nv">@debugmp</span><span class="w"></span>
</code></pre></div>

<p>Please see (<a href="https://github.com/lewisfish/signedMCRT/blob/main/fpm.rsp">here</a>) for other possible options.</p>
<h2 id="dependencies">Dependencies</h2>
<p>Below is the current list of dependencies:</p>
<ul>
<li><a href="https://github.com/fortran-lang/test-drive">test drive</a></li>
<li><a href="https://github.com/lewisfish/fortran_tev_bindings">Fortran TEV Bindings</a></li>
<li><a href="https://github.com/fortran-lang/stdlib">stdlib</a></li>
<li><a href="https://github.com/lewisfish/fortran_stb_image">stb_image</a></li>
<li><a href="https://github.com/lewisfish/fortran_utilities">Fortran Utilities</a></li>
</ul>
<p>Test drive is used to run all tests.
Fortran <a href="https://github.com/Tom94/tev/">TEV</a> Bindings is used to interface with TEV, to show live slices of fluences as the simulation is run, which is handy for debugging purposes.
Stdlib is a collection of routines purposed for inclusion within the Fortran standard. Stdlib is used here for it's loadtxt function to load arbitrary plain text data into arrays. More of stdlib may be used in future.
Fortran_stb_Image is used to load images into arrays. Fortran_stb_image are the Fortran bindings for <a href="https://github.com/nothings/stb">stb_image</a>.
Finally, Fortran Utilities is my personal collection of useful Fortran utilities such as mathematical functions, or progress bars.</p>
<h2 id="config-file">Config file</h2>
<p>signedMCRT uses TOML as it's configuration file format.
Documentation of the input file format can be found in <a href="https://lewismcmillan.com/signedMCRT/page/config.html">here</a></p>
<h2 id="plotting-results">Plotting Results</h2>
<p>To view the output of simulations you can use <a href="https://github.com/lewisfish/data_cube_viewer">this</a>.
Alternatively to customise the plot you can adjust the following <a href="https://github.com/lewisfish/signedMCRT/blob/main/tools/plot_nrrd.py">script</a>.</p>
<h2 id="monte-carlo-radiation-transfer-mcrt-method">Monte Carlo Radiation Transfer (MCRT) method</h2>
<p>Please see my <a href="https://github.com/lewisfish/my_amazing_thesis/blob/master/main.pdf">thesis</a> for an overview of the MCRT method.</p>
<h2 id="citation">Citation</h2>
<p>SignedMCRT has so far been used in 2 papers:</p>
<ul>
<li>MESHLESS MONTE CARLO RADIATION TRANSFER METHOD FOR CURVED GEOMETRIES USING SIGNED DISTANCE FUNCTIONS
L. McMillan, G. D. Bruce, K. Dholakia, <a href="https://doi.org/10.1117/1.JBO.27.8.083003">J. Biomed. Opt. 27(8), 083003 (2022)</a>/<a href="https://arxiv.org/abs/2112.08035">arXiv:2112.08035 (2021)</a></li>
<li>TO FOCUS-MATCH OR NOT TO FOCUS-MATCH INVERSE SPATIALLY OFFSET RAMAN SPECTROSCOPY: A QUESTION OF LIGHT PENETRATION
G.E. Shillito, L. McMillan, G. D. Bruce, K. Dholakia, <a href="https://doi.org/10.1364/OE.451496">Opt. Express 30, 8876 (2022)</a>/<a href="https://arxiv.org/abs/2112.08877">arXiv:2112.08877</a></li>
</ul>
<h2 id="todos">TODO's</h2>
<p>The current TODO list of planned features and current bugs can be found <a href="https://lewismcmillan.com/signedMCRT/page/TODO.html">here</a>.</p>
    </div>
    <div class="col-md-3 col-md-pull-9">
      <hr class="visible-xs visible-sm">
        <div class="well toc">
          <ul class="nav nav-stacked nav-pills">
            <li role="presentation" class="title disabled"><a href='../page/index.html'>main</a></li>
          </ul>
          <hr>
          <ul class="nav nav-stacked nav-pills">
            <li role="presentation">
            <a href='../page/./TODO.html'>todos</a>
            </li>
            <li role="presentation">
            <a href='../page/./config.html'>config</a>
            </li>
          </ul>
        </div>
    </div>
  </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-xs-6 col-md-6"><p>signedMCRT was developed by Lewis McMillan<br>&copy; 2023 
</p>
          </div>
          <div class="col-xs-6 col-md-6">
            <p class="text-right">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
            </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript
         ================================================== -->
         <!-- Placed at the end of the document so the pages load faster -->
    <!--
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        -->
        <script src="../js/bootstrap.min.js"></script>
        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <script src="../js/ie10-viewport-bug-workaround.js"></script>

        <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  </body>
</html>