<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Monte Carlo radiation transfer (MCRT) using Signed Distance functions (SDF)">
    <meta name="author" content="Lewis McMillan" >
    <link rel="icon" href="../favicon.png">

    <title>main &ndash; signedMCRT</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">
      <link  href="../tipuesearch/tipuesearch.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../index.html">signedMCRT </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="index.html">main</a></li>
                  <li class="nav-item">
                    <a class="nav-link" href="../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/absint.html">Abstract Interfaces</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/types.html">Derived Types</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../program/mcpolar.html">Program</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>main</h1>
    <div class="container p-2 mb-4 bg-light border rounded-3">
      <div class="row align-items-center justify-content-between">
        <div class="col">
          <ul class="list-inline" style="margin-bottom:0px; display:inline">
          </ul>
        </div>
        <div class="col">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb justify-content-end mb-0">
              <li class="breadcrumb-item active" aria-current="page">main</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
      <div class="col-3">
        <div class="card card-body bg-light" id="sidebar-toc">
          <ul class="nav flex-column align-items">
            <li class="nav-item">
              <a class="nav-link active disabled" href="index.html">main</a>
            </li>
          </ul>
          <hr>
          <nav class="nav nav-pills flex-column">
              <a class="nav-link" href="TODO.html">todos</a>
              <a class="nav-link" href="config.html">config</a>
          </nav>
        </div>
      </div>

    <div class="col-9" id='text'>
      <h1 id="documentation">Documentation</h1>
<p>This document is the incomplete documentation of <strong>signedMCRT</strong>.</p>
<h2 id="build-system">Build system</h2>
<p>To build signedMCRT, the only current method is using <a href="https://fpm.fortran-lang.org/en/index.html">FPM</a>.
FPM can be easily installed on any platform, and is simple to use to pull all dependencies, and build and compile signedMCRT.
We also provide several commands via FPM response file (<a href="https://github.com/lewisfish/signedMCRT/blob/main/fpm.rsp">found here</a>), to enable the use of OpenMP, other compliers, and various debug modes.</p>
<h2 id="running-the-code">Running the code</h2>
<p>The code is run using FPM. To run on a single core with no debug flags enabled:</p>
<div class="codehilite"><pre><span></span><code>fpm run
</code></pre></div>

<p>To run on all available threads on current computer with no debug flags:</p>
<div class="codehilite"><pre><span></span><code><span class="n">fpm</span><span class="w"> </span><span class="nv">@runmp</span>
</code></pre></div>

<p>To run the code on one thread with all debug flags enabled:</p>
<div class="codehilite"><pre><span></span><code><span class="n">fpm</span><span class="w"> </span><span class="nv">@debug</span>
</code></pre></div>

<p>To run the code on all threads with all debug flags enabled:</p>
<div class="codehilite"><pre><span></span><code><span class="n">fpm</span><span class="w"> </span><span class="nv">@debugmp</span>
</code></pre></div>

<p>Please see (<a href="https://github.com/lewisfish/signedMCRT/blob/main/fpm.rsp">here</a>) for other possible options.</p>
<h2 id="dependencies">Dependencies</h2>
<p>Below is the current list of dependencies:</p>
<ul>
<li><a href="https://github.com/fortran-lang/test-drive">test drive</a></li>
<li><a href="https://github.com/lewisfish/fortran_tev_bindings">Fortran TEV Bindings</a></li>
<li><a href="https://github.com/fortran-lang/stdlib">stdlib</a></li>
<li><a href="https://github.com/lewisfish/fortran_stb_image">stb_image</a></li>
<li><a href="https://github.com/lewisfish/fortran_utilities">Fortran Utilities</a></li>
</ul>
<p>Test drive is used to run all tests.
Fortran <a href="https://github.com/Tom94/tev/">TEV</a> Bindings is used to interface with TEV, to show live slices of fluences as the simulation is run, which is handy for debugging purposes.
Stdlib is a collection of routines purposed for inclusion within the Fortran standard. Stdlib is used here for it's loadtxt function to load arbitrary plain text data into arrays. More of stdlib may be used in future.
Fortran_stb_Image is used to load images into arrays. Fortran_stb_image are the Fortran bindings for <a href="https://github.com/nothings/stb">stb_image</a>.
Finally, Fortran Utilities is my personal collection of useful Fortran utilities such as mathematical functions, or progress bars.</p>
<h2 id="config-file">Config file</h2>
<p>signedMCRT uses TOML as it's configuration file format.
Documentation of the input file format can be found in <a href="https://lewismcmillan.com/signedMCRT/page/config.html">here</a></p>
<h2 id="plotting-results">Plotting Results</h2>
<p>To view the output of simulations you can use <a href="https://github.com/lewisfish/data_cube_viewer">this</a>.
Alternatively to customise the plot you can adjust the following <a href="https://github.com/lewisfish/signedMCRT/blob/main/tools/plot_nrrd.py">script</a>.</p>
<h2 id="monte-carlo-radiation-transfer-mcrt-method">Monte Carlo Radiation Transfer (MCRT) method</h2>
<p>Please see my <a href="https://github.com/lewisfish/my_amazing_thesis/blob/master/main.pdf">thesis</a> for an overview of the MCRT method.</p>
<h2 id="citation">Citation</h2>
<p>SignedMCRT has so far been used in 2 papers:</p>
<ul>
<li>MESHLESS MONTE CARLO RADIATION TRANSFER METHOD FOR CURVED GEOMETRIES USING SIGNED DISTANCE FUNCTIONS
L. McMillan, G. D. Bruce, K. Dholakia, <a href="https://doi.org/10.1117/1.JBO.27.8.083003">J. Biomed. Opt. 27(8), 083003 (2022)</a>/<a href="https://arxiv.org/abs/2112.08035">arXiv:2112.08035 (2021)</a></li>
<li>TO FOCUS-MATCH OR NOT TO FOCUS-MATCH INVERSE SPATIALLY OFFSET RAMAN SPECTROSCOPY: A QUESTION OF LIGHT PENETRATION
G.E. Shillito, L. McMillan, G. D. Bruce, K. Dholakia, <a href="https://doi.org/10.1364/OE.451496">Opt. Express 30, 8876 (2022)</a>/<a href="https://arxiv.org/abs/2112.08877">arXiv:2112.08877</a></li>
</ul>
<h2 id="todos">TODO's</h2>
<p>The current TODO list of planned features and current bugs can be found <a href="https://lewismcmillan.com/signedMCRT/page/TODO.html">here</a>.</p>
    </div>
  </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              signedMCRT
 was developed by Lewis McMillan<br>              &copy; 2024 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
            </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>    

    <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

          <script src="../tipuesearch/tipuesearch_content.js"></script>
          <script src="../tipuesearch/tipuesearch_set.js"></script>
          <script src="../tipuesearch/tipuesearch.js"></script>

  </body>
</html>